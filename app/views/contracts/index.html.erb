<div class="d-flex">
  <!-- Sidebar Menu -->
  <%= render MenuComponent.new(location: "contracts") %>

  <!-- Main Content -->
  <div class="flex-grow-1 p-4">
    <h1>Contracts</h1>

    <p><%= link_to "New Contract", new_contract_path, class: "btn btn-primary" %></p>

    <% @contracts.each do |contract| %>
      <div class="contract border rounded p-3 mb-3 shadow-sm">
        <h2><%= contract.title %></h2>
        <ul>
          <% contract.documents.each do |document| %>
            <li>
              <%= link_to url_for(document.file) do %>
                <%= document.title %>
                <br>
                <%= image_tag url_for(document.file.preview(resize_to_limit: [320, 240]).processed), class: "img-thumbnail mt-2" %>
              <% end %>
            </li>
          <% end %>
        </ul>
        <%= link_to "View", contract_path(contract), class: "btn btn-secondary" %>
      </div>
    <% end %>
  </div>
</div>
